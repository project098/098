<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>


<script>

    //Set up and tear down in jasmin Example - beforeEach and AfterEach
    //Order of execution
    // Once the test object loaded , order of execution is  1) beforeEach() 2) testCases 3) afterEach ()

    //Pre-Defined Matchers in Jasmine

    /*
    *
     toBe: represents the exact equality (===) operator.
     toEqual: represents the regular equality (==) operator.
     toMatch: calls the RegExp match() method behind the scenes to compare string data.
     toBeDefined: opposite of the JS "undefined" constant.
     toBeUndefined: tests the actual against "undefined".
     toBeNull: tests the actual against a null value - useful for certain functions that may return null, like those of regular expressions (same as toBe(null))
     toBeTruthy: simulates JavaScript boolean casting.
     toBeFalsy: like toBeTruthy, but tests against anything that evaluates to false, such as empty strings, zero, undefined, etcâ€¦
     toContain: performs a search on an array for the actual value.
     toBeLessThan/toBeGreaterThan: for numerical comparisons.
     toBeCloseTo: for floating point comparisons.
     toThrow: for catching expected exceptions.
    *
    *
    *
    * */




    describe("Stock Portfolio App Tests", function() {
        var presentValue,
                previousValue,
                aPercentChanges;

        beforeEach(function() {
            presentValue    = 110;
            previousValue   = 100;
            aPercentChanges = [];
        });

        afterEach(function() {
            presentValue    = 0;
            previousValue   = 0;
            aPercentChanges = [];
        });

        it("calcWeeklyPercentChange() should return the change between two numbers as a percentage.", function() {
            var calcWeeklyPercentChange = function(presentValue, previousValue, aPercentChanges) {
                var percentChange = presentValue / previousValue - 1;
                aPercentChanges.push(percentChange);
                return percentChange;
            };

            //actually returns 0.10000000000000009!
            var result = calcWeeklyPercentChange(presentValue, previousValue, aPercentChanges);
            expect(result).toBeCloseTo(0.1);
            expect(aPercentChanges.length).toEqual(1);
        });

        it("The aPercentChanges array should now be empty.", function() {
            expect(aPercentChanges.length).toEqual(0);
        });
    });


</script>


</body>
</html>